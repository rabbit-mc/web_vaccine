"use strict";(self["webpackChunkhello"]=self["webpackChunkhello"]||[]).push([[598],{50598:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("span",[a("el-input",{staticStyle:{width:"250px","margin-right":"10px"},attrs:{placeholder:"请输入疫苗名称"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.searchvacc}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0,t.type="新增",t.title="疫苗添加"}}},[t._v("添加")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.vaccine,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"疫苗名称",width:"250",align:"center"}}),a("el-table-column",{attrs:{prop:"price",label:"疫苗单价",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"manufacturer",label:"生产厂家",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"category",label:"疫苗种类",width:"150",align:"center"}}),a("el-table-column",{attrs:{prop:"detail",label:"疫苗详情",width:"300",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.edit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e},close:function(e){t.dialogVisible=!1,t.init()}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:t.addvaccinfo}},[a("el-form-item",{attrs:{label:"疫苗名称"}},[a("el-input",{model:{value:t.addvaccinfo.name,callback:function(e){t.$set(t.addvaccinfo,"name",e)},expression:"addvaccinfo.name"}})],1),a("el-form-item",{attrs:{label:"疫苗单价"}},[a("el-input",{model:{value:t.addvaccinfo.price,callback:function(e){t.$set(t.addvaccinfo,"price",e)},expression:"addvaccinfo.price"}})],1),a("el-form-item",{attrs:{label:"生产厂家"}},[a("el-input",{model:{value:t.addvaccinfo.manufacturer,callback:function(e){t.$set(t.addvaccinfo,"manufacturer",e)},expression:"addvaccinfo.manufacturer"}})],1),a("el-form-item",{attrs:{label:"疫苗种类"}},[a("el-input",{model:{value:t.addvaccinfo.category,callback:function(e){t.$set(t.addvaccinfo,"category",e)},expression:"addvaccinfo.category"}})],1),a("el-form-item",{attrs:{label:"疫苗详情"}},[a("el-input",{model:{value:t.addvaccinfo.detail,callback:function(e){t.$set(t.addvaccinfo,"detail",e)},expression:"addvaccinfo.detail"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1,t.init()}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)],1)],1)},l=[],c={name:"",components:{},mixins:[],props:{},data(){return{title:"",type:"",vaccine:[],input:"",dialogVisible:!1,addvaccinfo:{name:"",price:"",manufacturer:"",category:"",detail:""}}},computed:{},watch:{},mounted(){this.init()},methods:{init(){this.axios.get("/getvacc").then((t=>{this.vaccine=t.data,this.addvaccinfo={}}))},searchvacc(){""==this.input?this.axios.get("/getvacc").then((t=>{this.vaccine=t.data,console.log("搜索信息为空页面渲染",t)})).catch((t=>{console.log(t.message)})):this.axios.get(`/selectvacc?name=${this.input}`).then((t=>{this.vaccine=t.data})).catch((t=>{console.log(t.message)}))},confirm(){"新增"==this.type?this.axios.get("/addvacc",{params:this.addvaccinfo}).then((t=>{console.log(t),this.dialogVisible=!1,this.init()})):this.axios.get("/updatevacc",{params:this.addvaccinfo}).then((t=>{this.dialogVisible=!1}))},edit(t,e){this.title="疫苗信息修改",this.type="编辑",this.dialogVisible=!0,this.addvaccinfo=e}}},n=c,o=a(1001),s=(0,o.Z)(n,i,l,!1,null,"6276f2c2",null),r=s.exports}}]);
//# sourceMappingURL=598.22d3bef9.js.map