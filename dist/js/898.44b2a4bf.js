"use strict";(self["webpackChunkhello"]=self["webpackChunkhello"]||[]).push([[898],{37898:function(e,t,i){i.r(t),i.d(t,{default:function(){return n}});var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{"margin-bottom":"10px"}},[i("span",[i("el-input",{staticStyle:{width:"250px","margin-right":"10px"},attrs:{placeholder:"请输入接种点名称"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),i("el-button",{attrs:{type:"primary"},on:{click:e.searchadd}},[e._v("搜索")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0,e.type="新增",e.title="接种点添加",e.itemaddress={}}}},[e._v("添加")])],1)]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.address,border:""}},[i("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"100",align:"center"}}),i("el-table-column",{attrs:{prop:"name",label:"接种点名称",width:"250",align:"center"}}),i("el-table-column",{attrs:{prop:"province_code",label:"所属省",width:"120",align:"center"}}),i("el-table-column",{attrs:{prop:"city_code",label:"所属市",width:"180",align:"center"}}),i("el-table-column",{attrs:{prop:"district_code",label:"所属区县",width:"150",align:"center"}}),i("el-table-column",{attrs:{prop:"address",label:"地点",width:"300",align:"center"}}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.edit(t.$index,t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),i("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"64%"},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){e.dialogVisible=!1,e.init()}}},[i("el-form",{attrs:{"label-position":"left","label-width":"100px",model:e.itemaddress}},[i("el-form-item",{attrs:{label:"接种点名称"}},[i("el-input",{model:{value:e.itemaddress.name,callback:function(t){e.$set(e.itemaddress,"name",t)},expression:"itemaddress.name"}})],1),i("el-form-item",{attrs:{label:"添加区域"}},[i("el-select",{attrs:{placeholder:"请选择省"},model:{value:e.itemaddress.province_code,callback:function(t){e.$set(e.itemaddress,"province_code",t)},expression:"itemaddress.province_code"}},e._l(e.pro_city_qu.pro,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),i("el-select",{staticStyle:{margin:"0 10px 0 10px"},attrs:{placeholder:"请选择市"},model:{value:e.itemaddress.city_code,callback:function(t){e.$set(e.itemaddress,"city_code",t)},expression:"itemaddress.city_code"}},e._l(e.pro_city_qu.city,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),i("el-select",{attrs:{placeholder:"请选择区县"},model:{value:e.itemaddress.district_code,callback:function(t){e.$set(e.itemaddress,"district_code",t)},expression:"itemaddress.district_code"}},e._l(e.pro_city_qu.qu,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1),i("el-form-item",{attrs:{label:"地址"}},[i("el-input",{model:{value:e.itemaddress.address,callback:function(t){e.$set(e.itemaddress,"address",t)},expression:"itemaddress.address"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1,e.init()}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)],1)},a=[],l={name:"",components:{},mixins:[],props:{},data(){return{title:"",type:"",pro_city_qu:{pro:[],city:[],qu:[]},address:[],input:"",dialogVisible:!1,itemaddress:{}}},computed:{},watch:{"itemaddress.province_code"(e,t){this.getcity(),console.log(this.itemaddress)},"itemaddress.city_code"(e,t){this.getquxian(),console.log(e)}},mounted(){this.init(),this.getpro()},methods:{init(){this.axios.get("/getaddress").then((e=>{this.address=e.data}))},searchadd(){""==this.input?this.axios.get("/getaddress").then((e=>{this.address=e.data,console.log("搜索信息为空页面渲染",e)})).catch((e=>{console.log(e.message)})):this.axios.get(`/selectaddress?name=${this.input}`).then((e=>{this.address=e.data})).catch((e=>{console.log(e.message)}))},confirm(){"新增"==this.type?this.axios.get("/addhosp",{params:this.itemaddress}).then((e=>{console.log(e),this.dialogVisible=!1})):this.axios.get("/updatehosp",{params:this.itemaddress}).then((e=>{this.dialogVisible=!1})),console.log(this.itemaddress)},edit(e,t){this.title="接种点修改",this.type="编辑",this.dialogVisible=!0,this.itemaddress=t},getpro(){this.axios.get("/province").then((e=>{this.pro_city_qu.pro=e.data}))},getcity(){this.axios.get("/city",{params:this.itemaddress.province_code}).then((e=>{this.pro_city_qu.city=e.data}))},getquxian(){this.axios.get("/quxian",{params:this.itemaddress.city_code}).then((e=>{this.pro_city_qu.qu=e.data}))}}},o=l,d=i(1001),r=(0,d.Z)(o,s,a,!1,null,"5bb85024",null),n=r.exports}}]);
//# sourceMappingURL=898.44b2a4bf.js.map