"use strict";(self["webpackChunkhello"]=self["webpackChunkhello"]||[]).push([[952],{25952:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("span",[a("el-input",{staticStyle:{width:"250px","margin-right":"10px"},attrs:{placeholder:"请输入医护人员姓名"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.searchvacc}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0,e.type="新增",e.title="医护人员添加"}}},[e._v("添加")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.vaccine,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"username",label:"账号",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"real_name",label:"姓名",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"card_id",label:"身份证号",width:"230",align:"center"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"150",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"所属接种点",width:"250",align:"center"}}),a("el-table-column",{attrs:{prop:"password",label:"密码",width:"200",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.edit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){e.dialogVisible=!1,e.init()}}},[a("el-form",{attrs:{"label-position":"left","label-width":"100px",model:e.addvaccinfo}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{model:{value:e.addvaccinfo.username,callback:function(t){e.$set(e.addvaccinfo,"username",t)},expression:"addvaccinfo.username"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.addvaccinfo.real_name,callback:function(t){e.$set(e.addvaccinfo,"real_name",t)},expression:"addvaccinfo.real_name"}})],1),a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{model:{value:e.addvaccinfo.card_id,callback:function(t){e.$set(e.addvaccinfo,"card_id",t)},expression:"addvaccinfo.card_id"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{model:{value:e.addvaccinfo.phone,callback:function(t){e.$set(e.addvaccinfo,"phone",t)},expression:"addvaccinfo.phone"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.addvaccinfo.password,callback:function(t){e.$set(e.addvaccinfo,"password",t)},expression:"addvaccinfo.password"}})],1),a("el-form-item",{attrs:{label:"请选择接种点"}},[a("el-select",{attrs:{placeholder:"请选择接种点"},model:{value:e.addvaccinfo.name,callback:function(t){e.$set(e.addvaccinfo,"name",t)},expression:"addvaccinfo.name"}},e._l(e.address,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1,e.init()}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)],1)},l=[],n={name:"",components:{},mixins:[],props:{},data(){return{address:[],title:"",type:"",vaccine:[],input:"",dialogVisible:!1,addvaccinfo:{username:"",real_name:"",card_id:"",phone:"",name:""}}},computed:{},watch:{},mounted(){this.init()},methods:{init(){this.axios.get("/doctorinfo").then((e=>{this.vaccine=e.data,this.addvaccinfo={}})),this.axios.get("/getaddress").then((e=>{this.address=e.data}))},searchvacc(){""==this.input?this.axios.get("/doctorinfo").then((e=>{this.vaccine=e.data,console.log("搜索信息为空页面渲染",e)})).catch((e=>{console.log(e.message)})):this.axios.get(`/selectdoctor?name=${this.input}`).then((e=>{this.vaccine=e.data})).catch((e=>{console.log(e.message)}))},confirm(){"新增"==this.type?(this.address.forEach((e=>{this.addvaccinfo.name==e.name&&(this.addvaccinfo.inoculate_site_id=e.id)})),this.axios.get("/adddoctor",{params:this.addvaccinfo}).then((e=>{console.log(e),this.dialogVisible=!1}))):this.axios.get("/updatedoctor",{params:this.addvaccinfo}).then((e=>{this.dialogVisible=!1}))},edit(e,t){this.title="医护人员信息修改",this.type="编辑",this.dialogVisible=!0,this.addvaccinfo=t}}},o=n,c=a(1001),s=(0,c.Z)(o,i,l,!1,null,"16246afa",null),d=s.exports}}]);
//# sourceMappingURL=952.b413f36c.js.map